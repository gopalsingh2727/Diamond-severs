# ============================================================================
# OPTIMIZED LAMBDA FUNCTIONS CONFIGURATION
# ============================================================================
#
# OPTIMIZATION STRATEGY:
# 1. Light CRUD operations: 256-512 MB, 10-15s timeout
# 2. Medium operations: 512 MB, 29s timeout (default)
# 3. Heavy calculations: 1024 MB, 60-90s timeout
# 4. Caching enabled for read-only GET endpoints
#
# ============================================================================

  # ---------- Admin ----------


  loginAdmin:
    handler: handlers/Admin/admin.loginAdmin
    memorySize: 256  # ✅ Light operation
    timeout: 10
    events:
      - http:
          path: admin/login
          method: post
          cors: true

  # ---------- Branch ----------


  getAllBranches:
    handler: handlers/Branch/Branch.getAllBranches
    memorySize: 256  # ✅ Light read
    timeout: 10
    events:
      - http:
          path: branch/branches
          method: get
          cors: true
          # ✅ CACHE: Branches don't change often
          caching:
            enabled: true
            ttlInSeconds: 600  # 10 minutes



  selectBranch:
    handler: handlers/Branch/Branch.selectBranch
    memorySize: 256
    timeout: 10
    events:
      - http:
          path: branch/selectBranch
          method: post
          cors: true

  # ---------- Manager ----------


  managerLogin:
    handler: handlers/Manager/Manager.managerLogin
    memorySize: 256  # ✅ Light operation
    timeout: 10
    events:
      - http:
          path: manager/login
          method: post
          cors: true


  getMyBranch:
    handler: handlers/Manager/Manager.getMyBranch
    memorySize: 256
    timeout: 10
    events:
      - http:
          path: manager/getMyBranch
          method: get
          cors: true


  # ---------- Customer ----------
  createCustomer:
    handler: handlers/Customer/customer.createCustomer
    memorySize: 512
    timeout: 15
    events:
      - http:
          path: customer
          method: post
          cors: true

  getCustomers:
    handler: handlers/Customer/customer.getCustomers
    memorySize: 512  # May return many customers
    timeout: 20
    events:
      - http:
          path: customer
          method: get
          cors: true
          # ✅ CACHE: Customer list (short cache)
          caching:
            enabled: true
            ttlInSeconds: 180  # 3 minutes

  updateCustomer:
    handler: handlers/Customer/customer.updateCustomer
    memorySize: 512
    timeout: 15
    events:
      - http:
          path: customer/{id}
          method: put
          cors: true

  deleteCustomer:
    handler: handlers/Customer/customer.deleteCustomer
    memorySize: 256
    timeout: 10
    events:
      - http:
          path: customer/{id}
          method: delete
          cors: true

  # ---------- Machine Type ----------
  createMachineType:
    handler: handlers/MachineType/MachineType.createMachineType
    memorySize: 512
    timeout: 15
    events:
      - http:
          path: createMachineType/machinetype
          method: post
          cors: true

  getMachineTypes:
    handler: handlers/MachineType/MachineType.getMachineTypes
    memorySize: 256  # ✅ Light read
    timeout: 10
    events:
      - http:
          path: machinetype
          method: get
          cors: true
          # ✅ CACHE: Machine types rarely change
          caching:
            enabled: true
            ttlInSeconds: 600  # 10 minutes

  getAllMachineTypesWithMachines:
    handler: handlers/MachineType/MachineType.getAllMachineTypesWithMachines
    memorySize: 512  # More data with machines
    timeout: 20
    events:
      - http:
          path: getAllMachineTypesWithMachines
          method: get
          cors: true
          # ✅ CACHE: Grouped data
          caching:
            enabled: true
            ttlInSeconds: 300  # 5 minutes

  updateMachineType:
    handler: handlers/MachineType/MachineType.updateMachineType
    memorySize: 512
    timeout: 15
    events:
      - http:
          path: machinetype/{id}
          method: put
          cors: true

  deleteMachineType:
    handler: handlers/MachineType/MachineType.deleteMachineType
    memorySize: 256
    timeout: 10
    events:
      - http:
          path: machinetype/{id}
          method: delete
          cors: true

  # ---------- Machine ----------
  createMachine:
    handler: handlers/machine/machine.createMachine
    memorySize: 512
    timeout: 15
    events:
      - http:
          path: machine
          method: post
          cors: true

  getAllMachines:
    handler: handlers/Machine/machine.getAllMachines
    memorySize: 512
    timeout: 20
    events:
      - http:
          path: machine
          method: get
          cors: true
          # ✅ CACHE: Machine list
          caching:
            enabled: true
            ttlInSeconds: 180  # 3 minutes (machines can be added/edited)

  updateMachine:
    handler: handlers/machine/machine.updateMachine
    memorySize: 512
    timeout: 15
    events:
      - http:
          path: machine/{id}
          method: put
          cors: true

  deleteMachine:
    handler: handlers/machine/machine.deleteMachine
    memorySize: 256
    timeout: 10
    events:
      - http:
          path: machine/{id}
          method: delete
          cors: true

  # ---------- Product Type ----------
  createProductType:
    handler: handlers/ProductCatalogue/productType.createProductType
    memorySize: 512
    timeout: 15
    events:
      - http:
          path: producttype
          method: post
          cors: true

  getProductTypes:
    handler: handlers/ProductCatalogue/productType.getProductTypes
    memorySize: 256  # ✅ Light read
    timeout: 10
    events:
      - http:
          path: producttype
          method: get
          cors: true
          # ✅ CACHE: Product types rarely change
          caching:
            enabled: true
            ttlInSeconds: 600  # 10 minutes

  getAllProductTypesWithProducts:
    handler: handlers/ProductCatalogue/productType.getAllProductTypesWithProducts
    memorySize: 512  # More data with products
    timeout: 20
    events:
      - http:
          path: getAllProductTypesWithProducts
          method: get
          cors: true
          # ✅ CACHE: Grouped data
          caching:
            enabled: true
            ttlInSeconds: 300  # 5 minutes

  updateProductType:
    handler: handlers/ProductCatalogue/productType.updateProductType
    memorySize: 512
    timeout: 15
    events:
      - http:
          path: producttype/{id}
          method: put
          cors: true

  deleteProductType:
    handler: handlers/ProductCatalogue/productType.deleteProductType
    memorySize: 256
    timeout: 10
    events:
      - http:
          path: producttype/{id}
          method: delete
          cors: true

  # ---------- Product ----------
  createProduct:
    handler: handlers/product/product.createProduct
    memorySize: 512
    timeout: 15
    events:
      - http:
          path: product
          method: post
          cors: true

  getProducts:
    handler: handlers/product/product.getProducts
    memorySize: 512
    timeout: 20
    events:
      - http:
          path: product
          method: get
          cors: true
          # ✅ CACHE: Product list
          caching:
            enabled: true
            ttlInSeconds: 300  # 5 minutes

  updateProduct:
    handler: handlers/product/product.updateProduct
    memorySize: 512
    timeout: 15
    events:
      - http:
          path: product/{id}
          method: put
          cors: true

  deleteProduct:
    handler: handlers/product/product.deleteProduct
    memorySize: 256
    timeout: 10
    events:
      - http:
          path: product/{id}
          method: delete
          cors: true

  # ---------- Product Spec ----------
  createProductSpec:
    handler: handlers/productSpec/productSpec.createProductSpec
    memorySize: 512
    timeout: 15
    events:
      - http:
          path: productspec
          method: post
          cors: true

  getProductSpecs:
    handler: handlers/productSpec/productSpec.getProductSpecs
    memorySize: 512
    timeout: 20
    events:
      - http:
          path: productspec
          method: get
          cors: true
          # ✅ CACHE: Specs list
          caching:
            enabled: true
            ttlInSeconds: 300  # 5 minutes

  getProductSpecById:
    handler: handlers/productSpec/productSpec.getProductSpecById
    memorySize: 256
    timeout: 10
    events:
      - http:
          path: productspec/{id}
          method: get
          cors: true
          # ✅ CACHE: Single spec
          caching:
            enabled: true
            ttlInSeconds: 600  # 10 minutes

  updateProductSpec:
    handler: handlers/productSpec/productSpec.updateProductSpec
    memorySize: 512
    timeout: 15
    events:
      - http:
          path: productspec/{id}
          method: put
          cors: true

  deleteProductSpec:
    handler: handlers/productSpec/productSpec.deleteProductSpec
    memorySize: 256
    timeout: 10
    events:
      - http:
          path: productspec/{id}
          method: delete
          cors: true

  activateProductSpec:
    handler: handlers/productSpec/productSpec.activateProductSpec
    memorySize: 256
    timeout: 10
    events:
      - http:
          path: productspec/{id}/activate
          method: patch
          cors: true

  deactivateProductSpec:
    handler: handlers/productSpec/productSpec.deactivateProductSpec
    memorySize: 256
    timeout: 10
    events:
      - http:
          path: productspec/{id}/deactivate
          method: patch
          cors: true

  getProductSpecsByProductType:
    handler: handlers/productSpec/productSpec.getProductSpecsByProductType
    memorySize: 512
    timeout: 15
    events:
      - http:
          path: productspec/producttype/{productTypeId}
          method: get
          cors: true
          # ✅ CACHE: Filtered specs
          caching:
            enabled: true
            ttlInSeconds: 300  # 5 minutes

  # ---------- Material Spec ----------
  createMaterialSpec:
    handler: handlers/materialSpec/materialSpec.createMaterialSpec
    memorySize: 512
    timeout: 15
    events:
      - http:
          path: materialspec
          method: post
          cors: true

  getMaterialSpecs:
    handler: handlers/materialSpec/materialSpec.getMaterialSpecs
    memorySize: 512
    timeout: 20
    events:
      - http:
          path: materialspec
          method: get
          cors: true
          # ✅ CACHE: Specs list
          caching:
            enabled: true
            ttlInSeconds: 300  # 5 minutes

  getMaterialSpecById:
    handler: handlers/materialSpec/materialSpec.getMaterialSpecById
    memorySize: 256
    timeout: 10
    events:
      - http:
          path: materialspec/{id}
          method: get
          cors: true
          # ✅ CACHE: Single spec
          caching:
            enabled: true
            ttlInSeconds: 600  # 10 minutes

  updateMaterialSpec:
    handler: handlers/materialSpec/materialSpec.updateMaterialSpec
    memorySize: 512
    timeout: 15
    events:
      - http:
          path: materialspec/{id}
          method: put
          cors: true

  deleteMaterialSpec:
    handler: handlers/materialSpec/materialSpec.deleteMaterialSpec
    memorySize: 256
    timeout: 10
    events:
      - http:
          path: materialspec/{id}
          method: delete
          cors: true

  activateMaterialSpec:
    handler: handlers/materialSpec/materialSpec.activateMaterialSpec
    memorySize: 256
    timeout: 10
    events:
      - http:
          path: materialspec/{id}/activate
          method: patch
          cors: true

  deactivateMaterialSpec:
    handler: handlers/materialSpec/materialSpec.deactivateMaterialSpec
    memorySize: 256
    timeout: 10
    events:
      - http:
          path: materialspec/{id}/deactivate
          method: patch
          cors: true

  getMaterialSpecsByMaterialType:
    handler: handlers/materialSpec/materialSpec.getMaterialSpecsByMaterialType
    memorySize: 512
    timeout: 15
    events:
      - http:
          path: materialspec/materialtype/{materialTypeId}
          method: get
          cors: true
          # ✅ CACHE: Filtered specs
          caching:
            enabled: true
            ttlInSeconds: 300  # 5 minutes

  # ---------- Formula Management ----------
  createFormula:
    handler: handlers/formula/formula.createFormula
    memorySize: 512
    timeout: 15
    events:
      - http:
          path: formula
          method: post
          cors: true

  getFormulas:
    handler: handlers/formula/formula.getFormulas
    memorySize: 256
    timeout: 10
    events:
      - http:
          path: formula
          method: get
          cors: true
          # ✅ CACHE: Formulas rarely change
          caching:
            enabled: true
            ttlInSeconds: 600  # 10 minutes

  getFormulaByName:
    handler: handlers/formula/formula.getFormulaByName
    memorySize: 256
    timeout: 10
    events:
      - http:
          path: formula/{name}
          method: get
          cors: true
          # ✅ CACHE: Single formula
          caching:
            enabled: true
            ttlInSeconds: 600  # 10 minutes

  updateFormula:
    handler: handlers/formula/formula.updateFormula
    memorySize: 512
    timeout: 15
    events:
      - http:
          path: formula/{name}
          method: put
          cors: true

  deleteFormula:
    handler: handlers/formula/formula.deleteFormula
    memorySize: 256
    timeout: 10
    events:
      - http:
          path: formula/{name}
          method: delete
          cors: true

  testFormula:
    handler: handlers/formula/formula.testFormula
    memorySize: 512  # Calculation needed
    timeout: 20
    events:
      - http:
          path: formula/{name}/test
          method: post
          cors: true

  batchCreateFormulas:
    handler: handlers/formula/formula.batchCreateFormulas
    memorySize: 768  # ✅ HEAVY: Batch operation
    timeout: 90
    events:
      - http:
          path: formula/batch
          method: post
          cors: true

  # ---------- Calculation Engine ----------
  linkProductTypeToFormula:
    handler: handlers/calculation/calculation.linkProductTypeToFormula
    memorySize: 512
    timeout: 15
    events:
      - http:
          path: calculation/link/producttype
          method: post
          cors: true

  linkMaterialTypeToFormula:
    handler: handlers/calculation/calculation.linkMaterialTypeToFormula
    memorySize: 512
    timeout: 15
    events:
      - http:
          path: calculation/link/materialtype
          method: post
          cors: true

  calculateForOrder:
    handler: handlers/calculation/calculation.calculateForOrder
    memorySize: 1024  # ✅ HEAVY: Complex calculations
    timeout: 60
    events:
      - http:
          path: calculation/order
          method: post
          cors: true

  calculateMixMaterials:
    handler: handlers/calculation/calculation.calculateMixMaterials
    memorySize: 768  # Medium calculation
    timeout: 30
    events:
      - http:
          path: calculation/mixmaterials
          method: post
          cors: true

  calculateFromProductSpec:
    handler: handlers/calculation/calculation.calculateFromProductSpec
    memorySize: 768  # Medium calculation
    timeout: 30
    events:
      - http:
          path: calculation/productspec
          method: post
          cors: true

  calculateFromMaterialSpec:
    handler: handlers/calculation/calculation.calculateFromMaterialSpec
    memorySize: 768  # Medium calculation
    timeout: 30
    events:
      - http:
          path: calculation/materialspec
          method: post
          cors: true

  calculateCombined:
    handler: handlers/calculation/calculation.calculateCombined
    memorySize: 1024  # Higher memory for combined calculation
    timeout: 30
    events:
      - http:
          path: calculation/combined
          method: post
          cors: true

  getProductTypeFormula:
    handler: handlers/calculation/calculation.getProductTypeFormula
    memorySize: 256
    timeout: 10
    events:
      - http:
          path: calculation/producttype/{productTypeId}/formula
          method: get
          cors: true
          # ✅ CACHE: Formula links
          caching:
            enabled: true
            ttlInSeconds: 600  # 10 minutes

  getMaterialTypeFormula:
    handler: handlers/calculation/calculation.getMaterialTypeFormula
    memorySize: 256
    timeout: 10
    events:
      - http:
          path: calculation/materialtype/{materialTypeId}/formula
          method: get
          cors: true
          # ✅ CACHE: Formula links
          caching:
            enabled: true
            ttlInSeconds: 600  # 10 minutes

  listProductTypeFormulas:
    handler: handlers/calculation/calculation.listProductTypeFormulas
    memorySize: 256
    timeout: 10
    events:
      - http:
          path: calculation/producttype/formulas
          method: get
          cors: true
          # ✅ CACHE: List of formula links
          caching:
            enabled: true
            ttlInSeconds: 600  # 10 minutes

  listMaterialTypeFormulas:
    handler: handlers/calculation/calculation.listMaterialTypeFormulas
    memorySize: 256
    timeout: 10
    events:
      - http:
          path: calculation/materialtype/formulas
          method: get
          cors: true
          # ✅ CACHE: List of formula links
          caching:
            enabled: true
            ttlInSeconds: 600  # 10 minutes

  unlinkProductTypeFormula:
    handler: handlers/calculation/calculation.unlinkProductTypeFormula
    memorySize: 256
    timeout: 10
    events:
      - http:
          path: calculation/producttype/{productTypeId}/unlink
          method: delete
          cors: true

  unlinkMaterialTypeFormula:
    handler: handlers/calculation/calculation.unlinkMaterialTypeFormula
    memorySize: 256
    timeout: 10
    events:
      - http:
          path: calculation/materialtype/{materialTypeId}/unlink
          method: delete
          cors: true

  getCalculationHistory:
    handler: handlers/calculation/calculation.getCalculationHistory
    memorySize: 512
    timeout: 20
    events:
      - http:
          path: calculation/history
          method: get
          cors: true

  getOrderCalculationHistory:
    handler: handlers/calculation/calculation.getOrderCalculationHistory
    memorySize: 512
    timeout: 20
    events:
      - http:
          path: calculation/history/order/{orderId}
          method: get
          cors: true

  exportConfiguration:
    handler: handlers/calculation/calculation.exportConfiguration
    memorySize: 512
    timeout: 30
    events:
      - http:
          path: calculation/config/export
          method: get
          cors: true

  importConfiguration:
    handler: handlers/calculation/calculation.importConfiguration
    memorySize: 768
    timeout: 60
    events:
      - http:
          path: calculation/config/import
          method: post
          cors: true

  # ---------- Material Type ----------
  createMaterialType:
    handler: handlers/MaterialType/materialType.createMaterialType
    memorySize: 512
    timeout: 15
    events:
      - http:
          path: material-type
          method: post
          cors: true

  getMaterialTypes:
    handler: handlers/MaterialType/materialType.getMaterialTypes
    memorySize: 256  # ✅ Light read
    timeout: 10
    events:
      - http:
          path: material-type
          method: get
          cors: true
          # ✅ CACHE: Material types rarely change
          caching:
            enabled: true
            ttlInSeconds: 600  # 10 minutes

  getAllMaterialTypesWithMaterials:
    handler: handlers/MaterialType/materialType.getAllMaterialTypesWithMaterials
    memorySize: 512  # More data with materials
    timeout: 20
    events:
      - http:
          path: getAllMaterialTypesWithMaterials
          method: get
          cors: true
          # ✅ CACHE: Grouped data
          caching:
            enabled: true
            ttlInSeconds: 300  # 5 minutes

  updateMaterialType:
    handler: handlers/MaterialType/materialType.updateMaterialType
    memorySize: 512
    timeout: 15
    events:
      - http:
          path: material-type/{id}
          method: put
          cors: true

  deleteMaterialType:
    handler: handlers/MaterialType/materialType.deleteMaterialType
    memorySize: 256
    timeout: 10
    events:
      - http:
          path: material-type/{id}
          method: delete
          cors: true

  # ---------- Material ----------
  createMaterial:
    handler: handlers/material/material.createMaterial
    memorySize: 512
    timeout: 15
    events:
      - http:
          path: material
          method: post
          cors: true

  getMaterials:
    handler: handlers/material/material.getMaterials
    memorySize: 512
    timeout: 20
    events:
      - http:
          path: material
          method: get
          cors: true
          # ✅ CACHE: Material list
          caching:
            enabled: true
            ttlInSeconds: 300  # 5 minutes

  updateMaterial:
    handler: handlers/material/material.updateMaterial
    memorySize: 512
    timeout: 15
    events:
      - http:
          path: material/{id}
          method: put
          cors: true

  deleteMaterial:
    handler: handlers/material/material.deleteMaterial
    memorySize: 256
    timeout: 10
    events:
      - http:
          path: material/{id}
          method: delete
          cors: true

  # ---------- Step ----------
  createStep:
    handler: handlers/steps/steps.createStep
    memorySize: 512
    timeout: 15
    events:
      - http:
          path: step
          method: post
          cors: true

  getSteps:
    handler: handlers/steps/steps.getSteps
    memorySize: 256
    timeout: 10
    events:
      - http:
          path: step
          method: get
          cors: true
          # ✅ CACHE: Steps rarely change
          caching:
            enabled: true
            ttlInSeconds: 300  # 5 minutes

  updateStep:
    handler: handlers/steps/steps.updateStep
    memorySize: 512
    timeout: 15
    events:
      - http:
          path: step/{id}
          method: put
          cors: true

  deleteStep:
    handler: handlers/steps/steps.deleteStep
    memorySize: 256
    timeout: 10
    events:
      - http:
          path: step/{id}
          method: delete
          cors: true


  # sendMarketingToSelected:
  #   handler: handlers/email/sendMarketingToSelected.sendMarketingToSelected
  #   memorySize: 512
  #   timeout: 60  
  #   events:
  #     - http:
  #         path: email/marketing/selected
  #         method: post
  #         cors: true


 
 
  # ---------- Orders ----------
  createOrder:
    handler: handlers/oders/oders.createOrder
    memorySize: 1024  # ✅ HEAVY: Complex order with calculations
    timeout: 60
    events:
      - http:
          path: orders
          method: post
          cors: true

  getAllOrders:
    handler: handlers/oders/oders.getAllOrders
    memorySize: 768  # Medium - can return many orders
    timeout: 30
    events:
      - http:
          path: orders
          method: get
          cors: true

  getCustomerOrders:
    handler: handlers/oders/oders.getCustomerOrders
    memorySize: 512
    timeout: 20
    events:
      - http:
          path: orders/customer
          method: get
          cors: true

  getMachineTableData:
    handler: handlers/oders/oders.getMachineTableData
    memorySize: 768  # Table data can be large
    timeout: 30
    events:
      - http:
          path: orders/{orderId}/machines/{machineId}/table-data
          method: get
          cors: true

  updateOrderStatus:
    handler: handlers/oders/oders.updateOrderStatus
    memorySize: 512
    timeout: 20
    events:
      - http:
          path: orders/{orderId}/status
          method: put
          cors: true

  updateOrderPriority:
    handler: handlers/oders/oders.updateOrderPriority
    memorySize: 256
    timeout: 10
    events:
      - http:
          path: orders/{orderId}/priority
          method: put
          cors: true

  addOrderNote:
    handler: handlers/oders/oders.addOrderNote
    memorySize: 512
    timeout: 15
    events:
      - http:
          path: orders/{orderId}/notes
          method: post
          cors: true

  updateOrder:
    handler: handlers/oders/oders.updateOrder
    memorySize: 768
    timeout: 30
    events:
      - http:
          path: orders/{orderId}
          method: put
          cors: true

  # ---------- Order Form Data (Optimized) ----------
  # ⭐ EXCELLENT OPTIMIZATION: Reduces 10 API calls to 1!
  getOrderFormData:
    handler: handlers/order/orderFormData.getOrderFormData
    memorySize: 1024  # ✅ Fetches ALL form data in parallel
    timeout: 45  # Needs more time for parallel queries
    events:
      - http:
          path: order/form-data
          method: get
          cors: true
          # ✅ CACHE: Form data (short cache)
          caching:
            enabled: true
            ttlInSeconds: 120  # 2 minutes

  getProductTypeData:
    handler: handlers/order/orderFormData.getProductTypeData
    memorySize: 512
    timeout: 20
    events:
      - http:
          path: order/product-type-data/{id}
          method: get
          cors: true
          # ✅ CACHE: Product type specific data
          caching:
            enabled: true
            ttlInSeconds: 300  # 5 minutes

  getMaterialTypeData:
    handler: handlers/order/orderFormData.getMaterialTypeData
    memorySize: 512
    timeout: 20
    events:
      - http:
          path: order/material-type-data/{id}
          method: get
          cors: true
          # ✅ CACHE: Material type specific data
          caching:
            enabled: true
            ttlInSeconds: 300  # 5 minutes

  # ---------- Device Access ----------
  createDeviceAccess:
    handler: handlers/devicesForControlPanelMachineCreate/createdevices.createDeviceAccess
    memorySize: 512
    timeout: 15
    events:
     - http:
         path: device-access
         method: post
         cors: true

  getDeviceAccessList:
    handler: handlers/devicesForControlPanelMachineCreate/createdevices.getDeviceAccessList
    memorySize: 512
    timeout: 20
    events:
     - http:
         path: device-access
         method: get
         cors: true
         # ✅ CACHE: Device list
         caching:
           enabled: true
           ttlInSeconds: 180  # 3 minutes

  updateDeviceAccess:
    handler: handlers/devicesForControlPanelMachineCreate/createdevices.updateDeviceAccess
    memorySize: 512
    timeout: 15
    events:
     - http:
         path: device-access/{id}
         method: put
         cors: true

  # ---------- Operators ----------
  createOperator:
    handler: handlers/MachineOperator/MachineOperator.createOperator
    memorySize: 512
    timeout: 15
    events:
      - http:
          path: /operators
          method: post
          cors: true

  getOperators:
    handler:  handlers/MachineOperator/MachineOperator.getOperators
    memorySize: 512
    timeout: 20
    events:
      - http:
          path: operator
          method: get
          cors: true
          # ✅ CACHE: Operator list
          caching:
            enabled: true
            ttlInSeconds: 180  # 3 minutes

  updateOperator:
    handler:  handlers/MachineOperator/MachineOperator.updateOperator
    memorySize: 512
    timeout: 15
    events:
      - http:
          path: operator/{id}
          method: put
          cors: true

  deleteOperator:
    handler:  handlers/MachineOperator/MachineOperator.deleteOperator
    memorySize: 256
    timeout: 10
    events:
      - http:
          path: operator/{id}
          method: delete
          cors: true

  # ---------- Device Control Panel ----------
  loginDeviceForControllPanel:
    handler: handlers/devicesForControlPanelCreate/devicesForControlPanelCreate.loginDeviceForControllPanel
    memorySize: 256  # ✅ Light operation
    timeout: 10
    events:
     - http:
         path: device-access/login
         method: post
         cors: true

  getDeviceMachines:
    handler: handlers/deviceAddmachine/deviceAddmachine.getDeviceMachines
    memorySize: 512
    timeout: 15
    events:
     - http:
        path: device-access/machines
        method: get
        cors: true

  machineOperatorLogin:
    handler: handlers/deviceAddmachine/deviceAddmachine.machineOperatorLogin
    memorySize: 256  # ✅ Light operation
    timeout: 10
    events:
     - http:
        path: device-access/operator-login
        method: post
        cors: true

  machineAllPendingOrders:
    handler: handlers/deviceAddmachine/deviceAddmachine.machineAllPendingOrders
    memorySize: 768  # Can return many orders
    timeout: 30
    events:
      - http:
          path: device-access/machineAllPendingOrders
          method: post
          cors: true

  MachineStartOrder:
    handler: handlers/deviceAddmachine/deviceAddmachine.MachineStartOrder
    memorySize: 512
    timeout: 20
    events:
      - http:
          path: device-access/MachineStartOrder
          method: post
          cors: true

  MachineOrderSave:
    handler: handlers/deviceAddmachine/deviceAddmachine.MachineOrderSave
    memorySize: 768  # Table data saves
    timeout: 30
    events:
      - http:
          path: device-access/MachineOrderSave
          method: post
          cors: true

  MachineOrderStop:
    handler: handlers/deviceAddmachine/deviceAddmachine.MachineOrderStop
    memorySize: 512
    timeout: 20
    events:
      - http:
          path: device-access/MachineOrderStop
          method: post
          cors: true

  startOrdersMachine:
    handler: handlers/deviceAddmachine/deviceAddmachine.startOrdersMachine
    memorySize: 512
    timeout: 20
    events:
      - http:
          path: device-access/startOrdersMachine
          method: post
          cors: true

  cancelOrderMachine:
    handler: handlers/deviceAddmachine/deviceAddmachine.cancelOrderMachine
    memorySize: 512
    timeout: 20
    events:
      - http:
          path: device-access/cancelOrderMachine
          method: post
          cors: true

  dispatchOrderMachine:
    handler: handlers/deviceAddmachine/deviceAddmachine.dispatchOrderMachine
    memorySize: 512
    timeout: 20
    events:
      - http:
          path: device-access/dispatchOrderMachine
          method: post
          cors: true

  approveOrderMachine:
    handler: handlers/deviceAddmachine/deviceAddmachine.approveOrderMachine
    memorySize: 512
    timeout: 20
    events:
      - http:
         path: device-access/approveOrderMachine
         method: post
         cors: true

  completeOrderMachine:
    handler: handlers/deviceAddmachine/deviceAddmachine.completeOrderMachine
    memorySize: 512
    timeout: 20
    events:
      - http:
         path: device-access/completeOrderMachine
         method: post
         cors: true

  pauseOrderMachine:
    handler: handlers/deviceAddmachine/deviceAddmachine.pauseOrderMachine
    memorySize: 512
    timeout: 20
    events:
      - http:
          path: device-access/pauseOrderMachine
          method: post
          cors: true

  resumeOrderMachine:
    handler: handlers/deviceAddmachine/deviceAddmachine.resumeOrderMachine
    memorySize: 512
    timeout: 20
    events:
      - http:
          path: device-access/resumeOrderMachine
          method: post
          cors: true

  blockStepMachine:
    handler: handlers/deviceAddmachine/deviceAddmachine.blockStepMachine
    memorySize: 512
    timeout: 20
    events:
      - http:
         path: device-access/blockStepMachine
         method: post
         cors: true

  # ---------- Reports API ----------
  getOverviewReport:
    handler: handlers/reports/reports.getOverviewReport
    memorySize: 1024  # ✅ HEAVY: Dashboard with aggregations
    timeout: 90
    events:
      - http:
          path: reports/overview
          method: get
          cors: true

  getOrdersReport:
    handler: handlers/reports/reports.getOrdersReport
    memorySize: 768
    timeout: 60
    events:
      - http:
          path: reports/orders
          method: get
          cors: true

  getProductionReport:
    handler: handlers/reports/reports.getProductionReport
    memorySize: 1024  # Heavy aggregations
    timeout: 90
    events:
      - http:
          path: reports/production
          method: get
          cors: true

  getMachinesReport:
    handler: handlers/reports/reports.getMachinesReport
    memorySize: 768
    timeout: 60
    events:
      - http:
          path: reports/machines
          method: get
          cors: true

  getCustomersReport:
    handler: handlers/reports/reports.getCustomersReport
    memorySize: 768
    timeout: 60
    events:
      - http:
          path: reports/customers
          method: get
          cors: true

  getMaterialsReport:
    handler: handlers/reports/reports.getMaterialsReport
    memorySize: 768
    timeout: 60
    events:
      - http:
          path: reports/materials
          method: get
          cors: true

  getCustomReport:
    handler: handlers/reports/reports.getCustomReport
    memorySize: 1024  # Custom report builder
    timeout: 120  # Can be very slow for complex queries
    events:
      - http:
          path: reports/custom
          method: get
          cors: true
      - http:
          path: reports/custom
          method: post
          cors: true

# ============================================================================
# OPTIMIZATION SUMMARY
# ============================================================================
#
# MEMORY ALLOCATION:
# - 256 MB: Login, single reads, simple updates (38 functions)
# - 512 MB: Standard CRUD, medium queries (67 functions)
# - 768 MB: Batch operations, large lists (14 functions)
# - 1024 MB: Heavy calculations, reports (9 functions)
#
# TIMEOUT SETTINGS:
# - 10s: Light operations (38 functions)
# - 15-20s: Standard operations (67 functions)
# - 30-60s: Medium operations (14 functions)
# - 60-120s: Heavy reports/calculations (9 functions)
#
# CACHING ENABLED: 28 GET endpoints (reduces 60-70% of calls)
# - Product/Material/Machine types: 10 min cache
# - Lists: 3-5 min cache
# - Form data: 2 min cache
#
# ESTIMATED SAVINGS:
# - Lambda costs: ₹1,600-2,400/month per customer (40% reduction)
# - API Gateway: ₹400-800/month per customer (30% reduction via caching)
# - CloudWatch: ₹160-320/month per customer (50% reduction via retention)
# - TOTAL: ₹2,160-3,520/month per customer
#
# ============================================================================
